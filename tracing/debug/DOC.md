# http_debug
`import "github.com/improbable-eng/go-httpwares/tracing/debug"`

* [Overview](#pkg-overview)
* [Imported Packages](#pkg-imports)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>
`http_debug` adds /debug/request debugging information for HTTP requests.

### Debug Wares
This adds `/debug/request` information for client-side and server-side HTTP APIs.

This utilises the `x/net/trace` handlers that allow you to trace old requests.

## <a name="pkg-imports">Imported Packages</a>

- [github.com/improbable-eng/go-httpwares](./../..)
- [github.com/improbable-eng/go-httpwares/tags](./../../tags)
- [golang.org/x/net/trace](https://godoc.org/golang.org/x/net/trace)

## <a name="pkg-index">Index</a>
* [func DefaultIsStatusCodeAnError(statusCode int) bool](#DefaultIsStatusCodeAnError)
* [func Middleware(opts ...Option) httpwares.Middleware](#Middleware)
* [func Tripperware(opts ...Option) httpwares.Tripperware](#Tripperware)
* [type FilterFunc](#FilterFunc)
* [type IsStatusCodeAnErrorFunc](#IsStatusCodeAnErrorFunc)
* [type Option](#Option)
  * [func WithFilterFunc(f FilterFunc) Option](#WithFilterFunc)
  * [func WithIsStatusCodeAnError(f IsStatusCodeAnErrorFunc) Option](#WithIsStatusCodeAnError)

#### <a name="pkg-files">Package files</a>
[doc.go](./doc.go) [middleware.go](./middleware.go) [options.go](./options.go) [tripperware.go](./tripperware.go) 

## <a name="DefaultIsStatusCodeAnError">func</a> [DefaultIsStatusCodeAnError](./options.go#L54)
``` go
func DefaultIsStatusCodeAnError(statusCode int) bool
```
DefaultIsStatusCodeAnError defines a function that says whether a given request is an error based on a code.

## <a name="Middleware">func</a> [Middleware](./middleware.go#L18)
``` go
func Middleware(opts ...Option) httpwares.Middleware
```
Middleware returns a http.Handler middleware that writes inbound requests to /debug/request.

The data logged will be: request headers, request ctxtags, response headers and response length.

## <a name="Tripperware">func</a> [Tripperware](./tripperware.go#L23)
``` go
func Tripperware(opts ...Option) httpwares.Tripperware
```
Tripperware returns a piece of client-side Tripperware that puts requests on the `/debug/requests` page.

The data logged will be: request headers, request ctxtags, response headers and response length.

## <a name="FilterFunc">type</a> [FilterFunc](./options.go#L18)
``` go
type FilterFunc func(req *http.Request) bool
```
FilterFunc allows users to provide a function that filters out certain methods from being traced.

If it returns false, the given request will not be traced.

## <a name="IsStatusCodeAnErrorFunc">type</a> [IsStatusCodeAnErrorFunc](./options.go#L21)
``` go
type IsStatusCodeAnErrorFunc func(statusCode int) bool
```
IsStatusCodeAnErrorFunc allows the customization of which requests are considered errors in the tracing system.

## <a name="Option">type</a> [Option](./options.go#L37)
``` go
type Option func(*options)
```

### <a name="WithFilterFunc">func</a> [WithFilterFunc](./options.go#L40)
``` go
func WithFilterFunc(f FilterFunc) Option
```
WithFilterFunc customizes the function used for deciding whether a given call is traced or not.

### <a name="WithIsStatusCodeAnError">func</a> [WithIsStatusCodeAnError](./options.go#L47)
``` go
func WithIsStatusCodeAnError(f IsStatusCodeAnErrorFunc) Option
```
WithIsStatusCodeAnError customizes the function used for deciding whether a given call was an error

- - -
Generated by [godoc2ghmd](https://github.com/GandalfUK/godoc2ghmd)